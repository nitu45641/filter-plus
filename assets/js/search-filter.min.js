!function(a){"use strict";a(document).ready(function(){let t=a(".category-list li"),e="click";t.find('input[type="checkbox"]').length&&(e="change"),t.on(e,function(){let t=a(this);a(".category-list li").removeClass("active");let e=a("#cat_li_"+t.data("cat_id"));e.length>0?e.is(":checked")?(t.addClass("active"),a("input[type=checkbox]").not(e).removeAttr("checked")):t.removeClass("active"):t.addClass("active"),r(),d(t,t.parents(".sidebar-row"))}),a(".sidebar-input").on("keyup",function(){let t=a(this);r(),d(t,t.parents(".sidebar-row"))});var i,l=a(".sidebar-row");let s,n,o;function r(t={}){var e=a(".products-wrap"),i=a(".prods-grid-view"),l=a(".prods-list-view"),s=a(".message"),n=a(".shopContainer").data("template"),o=a(".shopContainer").data("product_categories"),d=a(".shopContainer").data("product_categories");let m=function t(e){if(e?.clear_all)return e;let i=a(".range-slider");if(e.cat_id=a(".category-list li.active").data("cat_id"),e.product_cat=a.trim(a(".category-list li.active").text()),e.rating=a("ul.ratings").attr("id"),e.taxonomies=c(!0),e.taxonomies_name=c("name"),e.filter_param=c(!1),e.search_value=a(".sidebar-input").val(),e.order_by=a("#filter-sort-by option:selected").val(),i.length>0){let l=i.val().split(",");e.min=l[0],e.max=l[1],e.price_range=i.data("action")}return e}(t);!function t(e){!function t(e){if(void 0===e?.default_call&&"1"==filter_client.is_pro_active){let i=["product_cat","rating","price_range"],l="";for(let[s,n]of Object.entries(e))-1!==a.inArray(s,i)&&void 0!==n&&""!==n&&("price_range"==s&&!0==n?l+=`price=[${e.min}-${e.max}]`:l+=`${s}=[${n}]`);window.history.pushState(null,null,"?fp="+l)}else window.history.replaceState(null,"",window.location.pathname)}(e);let i="",l=`<div class="clear-filter">${filter_client.localize.clear_all}</div>`,s="<span>X</span>";for(let[n,o]of Object.entries(e))if(!e.default_call&&void 0!==o&&("price_range"==n&&!0==o&&(i+=`<div class='filter-tag' data-node='.slide-container'>${filter_client.localize.price} ${s}</div>`),"rating"==n&&""!==o&&(i+=`<div class='filter-tag' data-node='.rating'>${filter_client.localize.rating}${s}</div>`),"product_cat"==n&&""!==o&&(i+=`<div class='filter-tag' data-node='.category-list'>${o}${s}</div>`),"search_value"==n&&""!==o&&(i+=`<div class='filter-tag' data-node='.search-form'>${filter_client.localize.search}${s}</div>`),"taxonomies_name"==n))for(let[r,d]of Object.entries(o))i+=`<div class='filter-tag' data-node='taxonomy' data-term_value='${r}'>${d}${s}</div>`;""!==i&&a(".selected-filter").html("").html(`${l}${i}`)}(m);var p={action:"get_filtered_data",nonce:filter_client.nonce,template:n,product_categories:o,product_tags:d,params:m};a.ajax({url:filter_client.ajax_url,method:"POST",data:p,beforeSend:function(){e.addClass("loader_box")},success:function(n){if(n?.success){var o,d=n?.data?.data?.products;let c=n?.data?.data?.total;if(a(".total").html("").html(c),a(".pages").html("").html(d.length),i.html(""),l.html(""),s.html(""),n?.data?.message!==""){a(".sort-bar").fadeOut();let m=n?.data?.message;s.html(`<div class="filter-plus woocommerce-error">${m}</div>`),a("ul.pagination").html("")}else{"none"==a(".sort-bar").css("display")&&a(".sort-bar").fadeIn();for(var p=a("#search_products_grid").html(),f=a("#search_products_list").html(),g=0;g<d.length;g++){var u=Handlebars.compile(p),u=u(d[g]);if(i.append(u),f){var h=Handlebars.compile(f),h=h(d[g]);l.append(h)}}!function t(e,i){let l=i||1,s=a(".pagination");if(e>0){s.html(""),s.append('<li class="first-page"> <svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 320 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"/></svg> </li>');for(var n=1;n<=e;n++){let o=l==n?' class="current"':"";s.append("<li "+o+">"+n+"</li>")}s.append('<li class="last-page"> <svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 320 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg> </li>')}a(".pagination li").on("click",function(){r({offset:a(this).text()})})}(n?.data?.data?.pages,t?.offset);let v=a(".pagination li.first-page"),$=a(".pagination li.last-page");t.offset==n?.data?.data?.pages?$.fadeOut():$.fadeIn(),1==t.offset?v.fadeOut():v.fadeIn()}o=n?.data?.disable_terms,a(".param-box div").removeClass("disable"),a.each(o,function(t,e){if(e.length>0)for(let i=0;i<e.length;i++)a(".radio-item[data-term_id="+e[i]+"]").addClass("disable")}),a("html, body").animate({scrollTop:150},"slow")}e.removeClass("loader_box")}})}function d(t,e,i=!1,l=""){let s=e.find(".reset");""==l&&(s.hasClass("d-none")&&s.removeClass("d-none"),s.fadeIn()),s.on("click",function(){if(e.hasClass("ratings"))e.attr("id",""),a(".ratings li").removeClass("rating_disable"),a(".rating-label").html("");else if(t.hasClass("range-slider")){t.attr("data-action",!1);let l=t.data("min"),n=t.data("max");t.val(l+","+n),t.jRange("setValue",l+","+n)}else t.hasClass("sidebar-input")?t.val(""):(t.removeClass("active"),a("input[type=checkbox]").removeAttr("checked"));i||r(),s.fadeOut()})}function c(t=!1){let e={},i=a(".param-box");return i.length>0&&i.each(function(i,l){let s=a(l).find("div");if(t){if("name"==t){let n=a('.active[data-taxonomy="'+s.data("taxonomy")+'"]');if(void 0===n.data("term_id"))return;"pa_color"==n.data("taxonomy")?e[s.data("taxonomy")]=n.data("name"):e[s.data("taxonomy")]=n.text()}else{let o=a('.active[data-taxonomy="'+s.data("taxonomy")+'"]');o.data("term_id")&&(e[s.data("taxonomy")]=o.data("term_id"))}}else e[s.data("taxonomy")]=s.map(function(){return a(this).data("term_id")}).get()}),!t&&a(".category-list").length>0&&(e.product_cat=a(".category-list li").map(function(){return a(this).data("cat_id")}).get()),e}l.length>0&&a.each(l,function(t,e){let i=a(this).find(".param-box");i.on("click",".radio-item",function(){let t=a(this);i.find(".radio-item").removeClass("active"),t.addClass("active"),r(),d(t,t.parents(".sidebar-row"))})}),n=(s=a(".range-slider")).data("min"),o=s.data("max"),s.jRange({from:n,to:o,step:1,scale:[n,o],width:"250",showLabels:!0,isRange:!0,ondragend:function(a){s.attr("data-action",!0);a.split(",")[1]&&(r(),d(s,s.parents(".sidebar-row")))},onbarclicked:function(a){s.attr("data-action",!0);a.split(",")[1]&&(r(),d(s,s.parents(".sidebar-row")))}}),s.jRange("setValue",n+","+o),a(".prods-grid-view").length>0&&r({default_call:!0}),i={list:a(".product-list"),grid:a(".product-grid")},a(".prods-list-view").css("display","none"),i.list.on("click",function(){a(".prods-grid-view").fadeOut(),a(".prods-list-view").fadeIn()}),i.grid.on("click",function(){a(".prods-grid-view").fadeIn(),a(".prods-list-view").fadeOut()}),a("ul.ratings").length>0&&a("ul.ratings").on("click","li",function(){let t=a(this),e=a(".ratings").data("template");1==e&&a(".ratings li").not(t).addClass("rating_disable"),2==e&&a(".rating-label").html("").html(a(this).html()),a("ul.ratings").attr("id",t.data("star")),r(),d(t,t.parents(".ratings"))});let m=".selected-filter .clear-filter",p=".selected-filter .filter-tag";function f(t=a(".clear_all")){if(t.length>0){let e=a(".sidebar-row"),i=a(".param-box"),l=a(".ratings"),s=a(".category-list li"),n=a(".sidebar-input"),o=a(".range-slider");if(s.removeClass("active"),n.val(""),i.find(".radio-item").removeClass("active"),l.length>0){l.attr("id","");let d=a(".rating-label");d.html(d.data("rating_label")),a(".ratings li").removeClass("rating_disable")}o.length>0&&o.jRange("setValue",o.data("min")+","+o.data("max")),a("input[type=checkbox]").removeAttr("checked"),e.find(".reset").fadeOut(),r({default_call:!0})}}function g(t){t.on("click",function(){let t=a(this);t.siblings(".down-arrow").slideToggle(),t.siblings(".up-arrow").slideToggle(),t.siblings(".panel").slideToggle(700,function(){t.hasClass("closed")?t.removeClass("closed").addClass("open"):t.removeClass("open").addClass("closed")})})}[m,p,".title-and-clean-area .clear_all"].forEach(t=>{a(".shopContainer").on("click",t,function(e){e.preventDefault();let i=a(this);if(f(i),t==p){let l=i.data("node"),s=a(l);"taxonomy"==l&&(s=a(`div[data-taxonomy="${i.data("term_value")}"]`).parent(".param-box")),s.closest(".reset").fadeOut(),i.remove(),0==a(p).length&&a(m).remove(),d(s,s.parents(".sidebar-row"),!1,"filter-tag")}else t==m&&(a(p).remove(),a(t).remove()),f(i)})}),f(),a(".rating-section .panel").css("display","none"),a(".down-arrow").css("display","none"),g(a(".sidebar-label")),g(a(".dropdown-label")),a("#filter-sort-by").on("change",function(){r()})})}(jQuery);